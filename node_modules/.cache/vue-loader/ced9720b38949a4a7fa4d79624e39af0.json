{"remainingRequest":"/Users/fanpenglei/Study/Code/cesium-demoV1.1/node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!/Users/fanpenglei/Study/Code/cesium-demoV1.1/src/components/ganttChartDrag.vue?vue&type=style&index=0&id=6165e34e&scoped=true&lang=css&","dependencies":[{"path":"/Users/fanpenglei/Study/Code/cesium-demoV1.1/src/components/ganttChartDrag.vue","mtime":1660550904368},{"path":"/Users/fanpenglei/Study/Code/cesium-demoV1.1/node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanpenglei/Study/Code/cesium-demoV1.1/node_modules/_vue-loader@15.10.0@vue-loader/lib/loaders/stylePostLoader.js","mtime":1655715156000},{"path":"/Users/fanpenglei/Study/Code/cesium-demoV1.1/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fanpenglei/Study/Code/cesium-demoV1.1/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanpenglei/Study/Code/cesium-demoV1.1/node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5jb250YWluZXIgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBsZWZ0OiAxMHB4OwogIHRvcDogMTU1cHg7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGp1c3RpZnktaXRlbXM6IGNlbnRlcjsKICBkaXNwbGF5OiBibG9jazsKfQouZ2FudHQtY2VudGVudCB7CiAgLyogaGVpZ2h0OiAzMDBweDsgKi8KICAvKiB3aWR0aDogMTAwJTsgKi8KICAvKiBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47ICovCiAgLyogaGVpZ2h0OiBjYWxjKDEwMHZoIC0gMnB4KTsgKi8KICB3aWR0aDogMTAwJTsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgYm90dG9tOiAxMHB4OwogIGJhY2tncm91bmQ6IHJnYmEoMTcsIDIyLCAyNCwgMC41KTsKICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDU2LCAyMTUsIDIyNywgMC41KTsKICBjb2xvcjogd2hpdGU7CiAgYm9yZGVyLXJhZGl1czogM3B4OwogIGZvbnQtc2l6ZTogMTJweDsKfQoKLyog55SY54m55Zu+ICovCgpsYWJlbCB7CiAgbWFyZ2luLWxlZnQ6IDEwcHg7Cn0KaW5wdXQgewogIHdpZHRoOiA0MHB4OwogIGhlaWdodDogMjBweDsKICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwp9CmlucHV0W3R5cGU9InJhbmdlIl0gewogIHdpZHRoOiAxMDBweDsKfQoudG9wLWJhciB7CiAgaGVpZ2h0OiA0MHB4Owp9CgouY29udGFpbmVyLW1haW4gewogIGhlaWdodDogY2FsYygxMDAlIC0gNThweCk7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIGZsZXg6IDE7Cn0KCi5tYWluLWZvb3RlciB7CiAgLyogaGVpZ2h0OiAzMHB4OyAqLwp9CgouZWwtc2xpZGVyIHsKICB3aWR0aDogMTAwcHg7Cn0KCi8qIOaWsOeahOeUmOeJueWbviAqLwo="},{"version":3,"sources":["ganttChartDrag.vue"],"names":[],"mappings":";AAmfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"ganttChartDrag.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div class=\"container\">\n      <el-button @click=\"showPolygon(true)\" :disabled=\"submissionFlag\"\n        >显示不可拖拽的甘特图</el-button\n      >\n      <el-button @click=\"showPolygon(false)\">隐藏不可拖拽的甘特图</el-button>\n    </div>\n    <!-- 甘特图 -->\n    <!-- 简易版 甘特图 （不可拖拽） -->\n    <!-- <div class=\"gantt-centent\" v-show=\"ganttFlag\">\n      <div id=\"chart1\"></div>\n      <div id=\"buttonGroup\" class=\"button-row\">\n        <button id=\"btnShowDialog\">\n          <i class=\"fa fa-plus\"></i>\n          Add task\n        </button>\n        <button id=\"btnRemoveSelected\" disabled=\"disabled\">\n          <i class=\"fa fa-remove\"></i>\n          Remove selected\n        </button>\n      </div>\n      <div id=\"addTaskDialog\" class=\"hidden overlay\">\n        <div class=\"popup\">\n          <h3>Add task</h3>\n          <label>Task name <input id=\"inputName\" type=\"text\" /></label>\n          <label\n            >Department\n            <select id=\"selectDepartment\">\n              <option value=\"0\">Tech</option>\n              <option value=\"1\">Marketing</option>\n              <option value=\"2\">Sales</option>\n            </select>\n          </label>\n          <label\n            >Dependency\n            <select id=\"selectDependency\">\n            </select>\n          </label>\n          <label>\n            Milestone\n            <input id=\"chkMilestone\" type=\"checkbox\" />\n          </label>\n          <div class=\"button-row\">\n            <button id=\"btnAddTask\">Add</button>\n            <button id=\"btnCancelAddTask\">Cancel</button>\n          </div>\n          <div class=\"clear\"></div>\n        </div>\n      </div>\n    </div> -->\n\n    <div class=\"gantt-centent\" v-show=\"ganttFlag\">\n      <gantt-elastic\n        :options=\"options\"\n        :tasks=\"tasks\"\n        @tasks-changed=\"tasksUpdate\"\n        @options-changed=\"optionsUpdate\"\n        @dynamic-style-changed=\"styleUpdate\"\n      >\n        <gantt-header slot=\"header\"></gantt-header>\n      </gantt-elastic>\n      <div class=\"q-mt-md\" />\n      <button @click=\"addTask\" icon=\"mdi-plus\" label=\"Add task\"></button>\n    </div>\n  </div>\n</template>\n\n<script>\nvar Cesium = require(\"cesium/Cesium\");\nimport \"cesium/Widgets/widgets.css\";\nimport { getDate } from \"@/assets/js/ganttChartDrag\";\n\nimport Highcharts from \"highcharts\";\nimport xrange from \"highcharts/modules/xrange\";\nxrange(Highcharts);\n\nimport GanttElastic from \"gantt-elastic\";\nimport GanttHeader from \"gantt-elastic-header\";\nimport dayjs from \"dayjs\";\n\nlet tasks = [\n  {\n    id: 1,\n    label: \"大任务1\",\n    user: '<a href=\"https://www.google.com/search?q=John+Doe\" target=\"_blank\" style=\"color:#0077c0;\">John Doe</a>',\n    start: getDate(-24 * 5),\n    duration: 15 * 24 * 60 * 60 * 1000,\n    percent: 85,\n    type: \"project\",\n    //collapsed: true,\n  },\n  {\n    id: 2,\n    label: \"With great power comes great responsibility\",\n    user: '<a href=\"https://www.google.com/search?q=Peter+Parker\" target=\"_blank\" style=\"color:#0077c0;\">Peter Parker</a>',\n    parentId: 1,\n    start: getDate(-24 * 4),\n    duration: 4 * 24 * 60 * 60 * 1000,\n    percent: 50,\n    type: \"milestone\",\n    collapsed: true,\n    style: {\n      base: {\n        fill: \"#1EBC61\",\n        stroke: \"#0EAC51\",\n      },\n    },\n  },\n  {\n    id: 3,\n    label: \"Courage is being scared to death, but saddling up anyway.\",\n    user: '<a href=\"https://www.google.com/search?q=John+Wayne\" target=\"_blank\" style=\"color:#0077c0;\">John Wayne</a>',\n    parentId: 2,\n    start: getDate(-24 * 3),\n    duration: 2 * 24 * 60 * 60 * 1000,\n    percent: 100,\n    type: \"task\",\n  },\n  {\n    id: 4,\n    label: \"Put that toy AWAY!\",\n    user: '<a href=\"https://www.google.com/search?q=Clark+Kent\" target=\"_blank\" style=\"color:#0077c0;\">Clark Kent</a>',\n    start: getDate(-24 * 2),\n    duration: 2 * 24 * 60 * 60 * 1000,\n    percent: 50,\n    type: \"task\",\n    dependentOn: [3],\n  },\n  {\n    id: 5,\n    label:\n      \"One billion, gajillion, fafillion... shabadylu...mil...shabady......uh, Yen.\",\n    user: '<a href=\"https://www.google.com/search?q=Austin+Powers\" target=\"_blank\" style=\"color:#0077c0;\">Austin Powers</a>',\n    parentId: 4,\n    start: getDate(0),\n    duration: 2 * 24 * 60 * 60 * 1000,\n    percent: 10,\n    type: \"milestone\",\n    style: {\n      base: {\n        fill: \"#0287D0\",\n        stroke: \"#0077C0\",\n      },\n    },\n  },\n  {\n    id: 6,\n    label: \"Butch Mario and the Luigi Kid\",\n    user: '<a href=\"https://www.google.com/search?q=Mario+Bros\" target=\"_blank\" style=\"color:#0077c0;\">Mario Bros</a>',\n    parentId: 5,\n    start: getDate(24),\n    duration: 1 * 24 * 60 * 60 * 1000,\n    percent: 50,\n    type: \"task\",\n    collapsed: true,\n    style: {\n      base: {\n        fill: \"#8E44AD\",\n        stroke: \"#7E349D\",\n      },\n    },\n  },\n  {\n    id: 7,\n    label: \"Devon, the old man wanted me, it was his dying request\",\n    user: '<a href=\"https://www.google.com/search?q=Knight+Rider\" target=\"_blank\" style=\"color:#0077c0;\">Knight Rider</a>',\n    parentId: 2,\n    dependentOn: [6],\n    start: getDate(24 * 2),\n    duration: 4 * 60 * 60 * 1000,\n    percent: 20,\n    type: \"task\",\n    collapsed: true,\n  },\n  {\n    id: 8,\n    label: \"Hey, Baby! Anybody ever tell you I have beautiful eyes?\",\n    user: '<a href=\"https://www.google.com/search?q=Johhny+Bravo\" target=\"_blank\" style=\"color:#0077c0;\">Johhny Bravo</a>',\n    parentId: 7,\n    dependentOn: [7],\n    start: getDate(24 * 3),\n    duration: 1 * 24 * 60 * 60 * 1000,\n    percent: 0,\n    type: \"task\",\n  },\n  {\n    id: 9,\n    label:\n      \"This better be important, woman. You are interrupting my very delicate calculations.\",\n    user: '<a href=\"https://www.google.com/search?q=Dexter\\'s+Laboratory\" target=\"_blank\" style=\"color:#0077c0;\">Dexter\\'s Laboratory</a>',\n    parentId: 8,\n    dependentOn: [8, 7],\n    start: getDate(24 * 4),\n    duration: 4 * 60 * 60 * 1000,\n    percent: 20,\n    type: \"task\",\n    style: {\n      base: {\n        fill: \"#8E44AD\",\n        stroke: \"#7E349D\",\n      },\n    },\n  },\n  {\n    id: 10,\n    label: \"current task\",\n    user: '<a href=\"https://www.google.com/search?q=Johnattan+Owens\" target=\"_blank\" style=\"color:#0077c0;\">Johnattan Owens</a>',\n    start: getDate(24 * 5),\n    duration: 24 * 60 * 60 * 1000,\n    percent: 0,\n    type: \"task\",\n  },\n  {\n    id: 11,\n    label: \"test task\",\n    user: '<a href=\"https://www.google.com/search?q=Johnattan+Owens\" target=\"_blank\" style=\"color:#0077c0;\">Johnattan Owens</a>',\n    start: getDate(24 * 6),\n    duration: 24 * 60 * 60 * 1000,\n    percent: 0,\n    type: \"task\",\n  },\n  {\n    id: 12,\n    label: \"test task\",\n    user: '<a href=\"https://www.google.com/search?q=Johnattan+Owens\" target=\"_blank\" style=\"color:#0077c0;\">Johnattan Owens</a>',\n    start: getDate(24 * 7),\n    duration: 24 * 60 * 60 * 1000,\n    percent: 0,\n    type: \"task\",\n    parentId: 11,\n  },\n  {\n    id: 13,\n    label: \"test task\",\n    user: '<a href=\"https://www.google.com/search?q=Johnattan+Owens\" target=\"_blank\" style=\"color:#0077c0;\">Johnattan Owens</a>',\n    start: getDate(24 * 8),\n    duration: 24 * 60 * 60 * 1000,\n    percent: 0,\n    type: \"task\",\n  },\n  {\n    id: 14,\n    label: \"test task\",\n    user: '<a href=\"https://www.google.com/search?q=Johnattan+Owens\" target=\"_blank\" style=\"color:#0077c0;\">Johnattan Owens</a>',\n    start: getDate(24 * 9),\n    duration: 24 * 60 * 60 * 1000,\n    percent: 0,\n    type: \"task\",\n  },\n  {\n    id: 15,\n    label: \"test task\",\n    user: '<a href=\"https://www.google.com/search?q=Johnattan+Owens\" target=\"_blank\" style=\"color:#0077c0;\">Johnattan Owens</a>',\n    start: getDate(24 * 16),\n    duration: 24 * 60 * 60 * 1000,\n    percent: 0,\n    type: \"task\",\n  },\n];\nlet options = {\n  taskMapping: {\n    progress: \"percent\",\n  },\n  maxRows: 100,\n  maxHeight: 500,\n  title: {\n    label: \"Your project title as html (link or whatever...)\",\n    html: false,\n  },\n  row: {\n    height: 24,\n  },\n  calendar: {\n    hour: {\n      display: true,\n    },\n  },\n  chart: {\n    progress: {\n      bar: false,\n    },\n    expander: {\n      display: true,\n    },\n  },\n  taskList: {\n    expander: {\n      straight: false,\n    },\n    columns: [\n      {\n        id: 1,\n        label: \"ID\",\n        value: \"id\",\n        width: 40,\n      },\n      {\n        id: 2,\n        label: \"Description\",\n        value: \"label\",\n        width: 200,\n        expander: true,\n        html: true,\n        events: {\n          click({ data, column }) {\n            alert(\"description clicked!\\n\" + data.label);\n          },\n        },\n      },\n      {\n        id: 3,\n        label: \"Assigned to\",\n        value: \"user\",\n        width: 130,\n        html: true,\n      },\n      {\n        id: 3,\n        label: \"Start\",\n        value: (task) => dayjs(task.start).format(\"YYYY-MM-DD\"),\n        width: 78,\n      },\n      {\n        id: 4,\n        label: \"Type\",\n        value: \"type\",\n        width: 68,\n      },\n      {\n        id: 5,\n        label: \"%\",\n        value: \"progress\",\n        width: 35,\n        style: {\n          \"task-list-header-label\": {\n            \"text-align\": \"center\",\n            width: \"100%\",\n          },\n          \"task-list-item-value-container\": {\n            \"text-align\": \"center\",\n            width: \"100%\",\n          },\n        },\n      },\n    ],\n  },\n  locale: {\n    name: \"en\",\n    Now: \"Now\",\n    \"X-Scale\": \"Zoom-X\",\n    \"Y-Scale\": \"Zoom-Y\",\n    \"Task list width\": \"Task list\",\n    \"Before/After\": \"Expand\",\n    \"Display task list\": \"Task list\",\n  },\n};\n\nexport default {\n  name: \"ganttChartDrag\",\n  props: [\"viewer\"],\n  components: {\n    GanttElastic,\n    GanttHeader,\n  },\n  // components: { Test, TestLeft, TestTimeline, TestMarkline },\n  data() {\n    return {\n      // 设置按钮的 disabled\n      submissionFlag: false,\n      ganttFlag: false,\n\n      tasks,\n      options,\n      dynamicStyle: {},\n      lastId: 16,\n    };\n  },\n\n  mounted() {\n    // this.updateData();\n    console.log(Highcharts);\n    Highcharts.setOptions({});\n  },\n  methods: {\n    addTask() {\n      this.tasks.push({\n        id: this.lastId++,\n        label:\n          '<a href=\"https://images.pexels.com/photos/423364/pexels-photo-423364.jpeg?auto=compress&cs=tinysrgb&h=650&w=940\" target=\"_blank\" style=\"color:#0077c0;\">Yeaahh! you have added a task bro!</a>',\n        user: '<a href=\"https://images.pexels.com/photos/423364/pexels-photo-423364.jpeg?auto=compress&cs=tinysrgb&h=650&w=940\" target=\"_blank\" style=\"color:#0077c0;\">Awesome!</a>',\n        start: getDate(24 * 3),\n        duration: 1 * 24 * 60 * 60 * 1000,\n        percent: 50,\n        type: \"project\",\n      });\n    },\n    tasksUpdate(tasks) {\n      this.tasks = tasks;\n    },\n    optionsUpdate(options) {\n      this.options = options;\n    },\n    styleUpdate(style) {\n      this.dynamicStyle = style;\n    },\n\n    showPolygon(val) {\n      if (val) {\n        // this.init();\n        this.ganttFlag = true;\n        // 判断只点击一次，如果用户点击过 置为 disabled\n        if (this.viewer.length != 0) {\n          this.submissionFlag = true;\n        } else {\n          this.submissionFlag = false;\n        }\n      } else {\n        this.ganttFlag = false;\n        // 如果已经清除实体，将展示实体按钮变为能点击状态\n        this.submissionFlag = false;\n      }\n    },\n    //简易版 甘特图 （不可拖拽）\n    // init() {\n    //   setTimeout(function () {\n    //     Highcharts.chart(\"chart1\", {\n    //       chart: {\n    //         type: \"xrange\",\n    //       },\n    //       title: {\n    //         text: \"简易甘特图\",\n    //       },\n    //       xAxis: {\n    //         type: \"datetime\",\n    //         dateTimeLabelFormats: {\n    //           week: \"%Y/%m/%d\",\n    //         },\n    //       },\n\n    //       yAxis: {\n    //         title: {\n    //           text: \"\",\n    //         },\n    //         categories: [\"制作产品原型\", \"开发\", \"测试\"],\n    //         reversed: true,\n    //       },\n    //       tooltip: {\n    //         dateTimeLabelFormats: {\n    //           day: \"%Y/%m/%d\",\n    //         },\n    //       },\n    //       series: [\n    //         {\n    //           name: \"项目1\",\n    //           // pointPadding: 0,\n    //           // groupPadding: 0,\n    //           borderColor: \"gray\",\n    //           pointWidth: 20,\n    //           data: [\n    //             {\n    //               x: Date.UTC(2014, 10, 21),\n    //               x2: Date.UTC(2014, 11, 2),\n    //               y: 0,\n    //               partialFill: 0.25,\n    //             },\n    //             {\n    //               x: Date.UTC(2014, 11, 2),\n    //               x2: Date.UTC(2014, 11, 5),\n    //               y: 1,\n    //             },\n    //             {\n    //               x: Date.UTC(2014, 11, 8),\n    //               x2: Date.UTC(2014, 11, 9),\n    //               y: 2,\n    //             },\n    //             {\n    //               x: Date.UTC(2014, 11, 9),\n    //               x2: Date.UTC(2014, 11, 19),\n    //               y: 1,\n    //             },\n    //             {\n    //               x: Date.UTC(2014, 11, 10),\n    //               x2: Date.UTC(2014, 11, 23),\n    //               y: 2,\n    //             },\n    //           ],\n    //           dataLabels: {\n    //             enabled: true,\n    //           },\n    //         },\n    //       ],\n    //     });\n    //   });\n    // },\n  },\n};\n</script>\n<style scoped>\n.container {\n  position: absolute;\n  left: 10px;\n  top: 155px;\n  display: flex;\n  align-items: center;\n  justify-items: center;\n  display: block;\n}\n.gantt-centent {\n  /* height: 300px; */\n  /* width: 100%; */\n  /* display: flex;\n  flex-direction: column; */\n  /* height: calc(100vh - 2px); */\n  width: 100%;\n  position: absolute;\n  bottom: 10px;\n  background: rgba(17, 22, 24, 0.5);\n  border: 1px solid rgba(56, 215, 227, 0.5);\n  color: white;\n  border-radius: 3px;\n  font-size: 12px;\n}\n\n/* 甘特图 */\n\nlabel {\n  margin-left: 10px;\n}\ninput {\n  width: 40px;\n  height: 20px;\n  vertical-align: middle;\n}\ninput[type=\"range\"] {\n  width: 100px;\n}\n.top-bar {\n  height: 40px;\n}\n\n.container-main {\n  height: calc(100% - 58px);\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n}\n\n.main-footer {\n  /* height: 30px; */\n}\n\n.el-slider {\n  width: 100px;\n}\n\n/* 新的甘特图 */\n</style>"]}]}